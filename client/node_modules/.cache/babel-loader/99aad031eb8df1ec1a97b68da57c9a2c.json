{"ast":null,"code":"import React,{Component}from'react';import{Row,Col}from\"../../components/Grid\";import{BookList,BookListItem}from\"../../components/BookList\";import axios from\"axios\";import EmptyList from'../../components/EmptyList';import RemoveBookBtn from'../../components/RemoveBookBtn';import{toast}from'react-toastify';class Saved extends Component{constructor(...args){super(...args);this.state={savedBooks:[],initialized:true};this.getBooks=()=>{axios.get(\"/api/books\").then(res=>{this.setState({savedBooks:res.data});}).catch(err=>console.log(err));};this.deleteFromDB=id=>{console.log(id);axios.delete(\"/api/books/\".concat(id)).then(()=>{toast.error('Book Deleted');this.getBooks();}).catch(err=>console.log(err));};}componentDidMount(){this.getBooks();}render(){return/*#__PURE__*/React.createElement(\"div\",null,/*#__PURE__*/React.createElement(Row,null,/*#__PURE__*/React.createElement(Col,{size:\"md-12\"},this.state.savedBooks.length>0?/*#__PURE__*/React.createElement(BookList,null,this.state.savedBooks.map(book=>{console.log(book);return/*#__PURE__*/React.createElement(\"div\",null,/*#__PURE__*/React.createElement(BookListItem,{key:book._id,authors:book.authors,title:book.title,synopsis:book.synopsis,link:book.link,thumbnail:book.thumbnail// delete={()=> this.deleteFromDB(book._id)}\n}),/*#__PURE__*/React.createElement(RemoveBookBtn,{onClick:()=>this.deleteFromDB(book._id)}));})):/*#__PURE__*/React.createElement(EmptyList,null))));}}export default Saved;","map":{"version":3,"sources":["/Users/jenniferkim/Documents/school/homework/homework21/googleSearch/client/src/pages/Saved/index.js"],"names":["React","Component","Row","Col","BookList","BookListItem","axios","EmptyList","RemoveBookBtn","toast","Saved","state","savedBooks","initialized","getBooks","get","then","res","setState","data","catch","err","console","log","deleteFromDB","id","delete","error","componentDidMount","render","length","map","book","_id","authors","title","synopsis","link","thumbnail"],"mappings":"AAAA,MAAOA,CAAAA,KAAP,EAAgBC,SAAhB,KAAiC,OAAjC,CACA,OAASC,GAAT,CAAcC,GAAd,KAAyB,uBAAzB,CACA,OAASC,QAAT,CAAmBC,YAAnB,KAAuC,2BAAvC,CACA,MAAOC,CAAAA,KAAP,KAAkB,OAAlB,CACA,MAAOC,CAAAA,SAAP,KAAsB,4BAAtB,CACA,MAAOC,CAAAA,aAAP,KAA0B,gCAA1B,CACA,OAASC,KAAT,KAAsB,gBAAtB,CAEA,KAAMC,CAAAA,KAAN,QAAoBT,CAAAA,SAAU,0CAC1BU,KAD0B,CAClB,CACJC,UAAU,CAAE,EADR,CAEJC,WAAW,CAAE,IAFT,CADkB,MAS1BC,QAT0B,CASf,IAAM,CACbR,KAAK,CAACS,GAAN,CAAU,YAAV,EACKC,IADL,CACUC,GAAG,EAAI,CACT,KAAKC,QAAL,CAAc,CAAEN,UAAU,CAAEK,GAAG,CAACE,IAAlB,CAAd,EACH,CAHL,EAIKC,KAJL,CAIYC,GAAG,EAAIC,OAAO,CAACC,GAAR,CAAYF,GAAZ,CAJnB,EAKH,CAfyB,MAiB1BG,YAjB0B,CAiBXC,EAAE,EAAI,CACjBH,OAAO,CAACC,GAAR,CAAYE,EAAZ,EAEAnB,KAAK,CAACoB,MAAN,sBAA2BD,EAA3B,GACKT,IADL,CACU,IAAM,CACRP,KAAK,CAACkB,KAAN,CAAY,cAAZ,EACA,KAAKb,QAAL,GAEH,CALL,EAMKM,KANL,CAMWC,GAAG,EAAIC,OAAO,CAACC,GAAR,CAAYF,GAAZ,CANlB,EAOH,CA3ByB,EAM1BO,iBAAiB,EAAG,CAChB,KAAKd,QAAL,GACH,CAoBDe,MAAM,EAAG,CACL,mBACI,4CACI,oBAAC,GAAD,mBACI,oBAAC,GAAD,EAAK,IAAI,CAAC,OAAV,EACK,KAAKlB,KAAL,CAAWC,UAAX,CAAsBkB,MAAtB,CAA+B,CAA/B,cACG,oBAAC,QAAD,MACK,KAAKnB,KAAL,CAAWC,UAAX,CAAsBmB,GAAtB,CAA0BC,IAAI,EAAI,CAC/BV,OAAO,CAACC,GAAR,CAAYS,IAAZ,EACA,mBACI,4CACI,oBAAC,YAAD,EACI,GAAG,CAAEA,IAAI,CAACC,GADd,CAEI,OAAO,CAAED,IAAI,CAACE,OAFlB,CAGI,KAAK,CAAEF,IAAI,CAACG,KAHhB,CAII,QAAQ,CAAEH,IAAI,CAACI,QAJnB,CAKI,IAAI,CAAEJ,IAAI,CAACK,IALf,CAMI,SAAS,CAAEL,IAAI,CAACM,SACpB;AAPA,EADJ,cAUI,oBAAC,aAAD,EACI,OAAO,CAAE,IAAM,KAAKd,YAAL,CAAkBQ,IAAI,CAACC,GAAvB,CADnB,EAVJ,CADJ,CAiBH,CAnBA,CADL,CADH,cAwBG,oBAAC,SAAD,MAzBR,CADJ,CADJ,CADJ,CAkCH,CA/DyB,CAkE9B,cAAevB,CAAAA,KAAf","sourcesContent":["import React, { Component } from 'react';\nimport { Row, Col } from \"../../components/Grid\";\nimport { BookList, BookListItem } from \"../../components/BookList\";\nimport axios from \"axios\";\nimport EmptyList from '../../components/EmptyList';\nimport RemoveBookBtn from '../../components/RemoveBookBtn';\nimport { toast } from 'react-toastify';\n\nclass Saved extends Component {\n    state = {\n        savedBooks: [],\n        initialized: true\n    }\n\n    componentDidMount() {\n        this.getBooks();\n    }\n    getBooks = () => {\n        axios.get(\"/api/books\")\n            .then(res => {\n                this.setState({ savedBooks: res.data })\n            })\n            .catch((err => console.log(err)))\n    }\n\n    deleteFromDB = id => {\n        console.log(id);\n\n        axios.delete(`/api/books/${id}`)\n            .then(() => {\n                toast.error('Book Deleted');\n                this.getBooks();\n\n            })\n            .catch(err => console.log(err))\n    }\n    render() {\n        return (\n            <div>\n                <Row>\n                    <Col size=\"md-12\">\n                        {this.state.savedBooks.length > 0 ?\n                            <BookList>\n                                {this.state.savedBooks.map(book => {\n                                    console.log(book)\n                                    return (\n                                        <div>\n                                            <BookListItem\n                                                key={book._id}\n                                                authors={book.authors}\n                                                title={book.title}\n                                                synopsis={book.synopsis}\n                                                link={book.link}\n                                                thumbnail={book.thumbnail}\n                                            // delete={()=> this.deleteFromDB(book._id)}\n                                            />\n                                            <RemoveBookBtn\n                                                onClick={() => this.deleteFromDB(book._id)}\n                                            />\n                                        </div>\n                                    )\n\n                                })}\n                            </BookList>\n                            :\n                            <EmptyList />\n                        }\n                    </Col>\n                </Row>\n            </div>\n        );\n    }\n}\n\nexport default Saved;"]},"metadata":{},"sourceType":"module"}